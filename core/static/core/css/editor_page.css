/* ==========================================================================
   CSS Específico para a Interface de Editor (Cortes YouTube)
   ========================================================================== */

/* Layout Geral */
.editor-layout {
    display: flex;
    height: calc(100vh - var(--header-height));
   
}
[data-theme="dark"] .editor-layout {
    background-color: var(--color-background-darker);
}

/* --- Painel de Controle (Esquerda) --- */
.editor-panel {
    width: 380px;
    flex-shrink: 0;
    background-color: var(--color-background);
    border-right: 1px solid var(--color-border);
    display: flex;
    flex-direction: column;
    height: 100%;
}
[data-theme="dark"] .editor-panel {
    background-color: var(--color-background-alt);
    border-right-color: var(--color-border-dark);
}

.panel-header {
    padding: 20px 25px;
    border-bottom: 1px solid var(--color-border);
    display: flex;
    align-items: center;
    gap: 15px;
    flex-shrink: 0;
}
.panel-header i { font-size: 1.5rem; color: var(--color-primary); }
.panel-header h2 { font-size: 1.25rem; font-weight: 600; margin: 0; }

.panel-form {
    display: flex;
    flex-direction: column;
    flex-grow: 1;
    overflow: hidden; /* Importante para o scroll interno funcionar */
}

.form-step-wrapper {
    padding: 25px;
    flex-grow: 1;
    overflow-y: auto; /* Habilita o scroll SÓ nesta área */
}

/* --- BARRA DE ROLAGEM CUSTOMIZADA --- */
.form-step-wrapper::-webkit-scrollbar { width: 8px; }
.form-step-wrapper::-webkit-scrollbar-track { background: var(--color-background-alt); }
.form-step-wrapper::-webkit-scrollbar-thumb { background-color: var(--color-border); border-radius: 4px; }
[data-theme="dark"] .form-step-wrapper::-webkit-scrollbar-track { background: var(--color-background-darker); }
[data-theme="dark"] .form-step-wrapper::-webkit-scrollbar-thumb { background-color: var(--color-border-dark); }


.form-step { display: none; }
.form-step.active { display: block; animation: fadeIn 0.5s ease; }
@keyframes fadeIn { from { opacity: 0; } to { opacity: 1; } }


.step-header { display: flex; align-items: center; gap: 10px; margin-bottom: 20px; }
.step-number { width: 28px; height: 28px; border-radius: 50%; background-color: var(--color-primary); color: white; display: flex; align-items: center; justify-content: center; font-weight: 600; font-size: 0.9rem; flex-shrink: 0;}
.step-header h3 { font-size: 1.1rem; font-weight: 600; margin: 0; }

.form-group { margin-bottom: 25px; }
.form-group label { display: block; font-weight: 500; margin-bottom: 8px; font-size: 0.9rem; }
.form-text { font-size: 0.85rem; color: var(--color-text-light); margin-top: 8px; }

/* Segmentos */
#segments-list { display: flex; flex-direction: column; gap: 10px; max-height: 250px; overflow-y: auto; padding-right: 5px;}
.segment-item { display: flex; align-items: center; padding: 12px; border: 1px solid var(--color-border); border-radius: 8px; cursor: pointer; transition: all 0.2s ease; }
.segment-item:hover { background-color: var(--color-background-alt); border-color: var(--color-primary); }
.segment-item:has(input:checked) { background-color: var(--color-secondary); border-color: var(--color-primary); }
.segment-info { flex-grow: 1; margin-left: 12px; }
.segment-info strong { display: block; font-size: 0.95rem; }
.segment-info span { font-size: 0.85rem; color: var(--color-text-light); }
.segment-duration { font-weight: 600; font-size: 0.9rem; background-color: var(--color-border); padding: 4px 8px; border-radius: 20px;}
[data-theme="dark"] .segment-duration { background-color: var(--color-border-dark); }


/* Estilos para Range Slider */
.range-slider-group { display: flex; align-items: center; gap: 15px; }
.form-range { flex-grow: 1; -webkit-appearance: none; appearance: none; width: 100%; height: 8px; background: var(--color-border); outline: none; border-radius: 4px; }
.form-range::-webkit-slider-thumb { -webkit-appearance: none; appearance: none; width: 20px; height: 20px; background: var(--color-primary); cursor: pointer; border-radius: 50%; }
.form-range::-moz-range-thumb { width: 20px; height: 20px; background: var(--color-primary); cursor: pointer; border-radius: 50%; }
.range-slider-group output { font-weight: 600; background-color: var(--color-secondary); padding: 4px 10px; border-radius: 6px; font-size: 0.9rem; min-width: 30px; text-align: center;}
[data-theme="dark"] .range-slider-group output { background-color: var(--color-border-dark); }


/* Estilos para Checkbox */
.form-check-wrapper { display: flex; align-items: center; gap: 12px; background-color: var(--color-background-alt); padding: 15px; border-radius: 8px; cursor: pointer;}
[data-theme="dark"] .form-check-wrapper { background-color: var(--color-background-darker); }
.form-check-input { width: 1.2em; height: 1.2em; }
.form-check-info .form-check-title { font-weight: 600; }
.form-check-info .form-text { margin-top: 2px; }

.panel-footer {
    padding: 20px 25px;
    border-top: 1px solid var(--color-border);
    background-color: var(--color-background);
    flex-shrink: 0;
}
[data-theme="dark"] .panel-footer { background-color: var(--color-background-alt); border-top-color: var(--color-border-dark);}
.alert-info { background-color: var(--color-secondary); color: var(--color-primary-dark); padding: 15px; border-radius: 8px; text-align: center; margin-bottom: 15px; font-weight: 500;}

/* --- Área de Preview (Direita) --- */
.editor-preview {
    flex-grow: 1;
    display: flex;
    align-items: center;
    justify-content: center;
    padding: 40px;
    position: relative;
    overflow: hidden;
}

.loading-overlay { display: none; position: absolute; top: 0; left: 0; width: 100%; height: 100%; background: rgba(255,255,255,0.9); backdrop-filter: blur(5px); z-index: 10; flex-direction: column; align-items: center; justify-content: center; gap: 15px;}
[data-theme="dark"] .loading-overlay { background: rgba(15, 23, 42, 0.9); }
.loading-spinner { width: 50px; height: 50px; border: 4px solid var(--color-border); border-top-color: var(--color-primary); border-radius: 50%; animation: spin 1s linear infinite; }
@keyframes spin { to { transform: rotate(360deg); } }
.loading-text { font-size: 1.1rem; font-weight: 500; }

.preview-placeholder { text-align: center; color: var(--color-text-light); }
.preview-placeholder i { font-size: 5rem; opacity: 0.3; margin-bottom: 20px; }
.preview-placeholder h3 { font-size: 1.5rem; color: var(--color-text-dark); }

.preview-content { width: 100%; max-width: 800px; display: none; animation: fadeIn 0.5s ease; }
.video-preview-wrapper { position: relative; border-radius: 16px; overflow: hidden; box-shadow: var(--shadow-xl); aspect-ratio: 16/9; background-color: var(--color-border); }
#video-thumbnail { width: 100%; height: 100%; object-fit: cover; display: block; }
.video-info { position: absolute; bottom: 0; left: 0; right: 0; padding: 20px; background: linear-gradient(to top, rgba(0,0,0,0.8) 0%, transparent 100%); color: white; }
#video-title { font-size: 1.3rem; font-weight: 600; margin: 0; }
#segments-error { display: none; text-align: center; margin-top: 20px; background-color: #FEE2E2; color: #991B1B; padding: 15px; border-radius: 8px; }

/* --- Responsividade --- */
@media (max-width: 992px) {
    .editor-layout { flex-direction: column; height: auto; }
    .editor-panel { width: 100%; height: auto; max-height: 50vh; border-right: none; border-bottom: 1px solid var(--color-border); }
    .editor-preview { min-height: 400px; padding: 20px; }
}